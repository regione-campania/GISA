<!--
Copyright (C) AGPL-3.0  

This program is free software: you can redistribute it and/or modify it under the terms of the GNU Affero General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.

This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero General Public License for more details.

You should have received a copy of the GNU Affero General Public License along with this program. If not, see <https://www.gnu.org/licenses/>.-->
<div class="a-table-paginator">
    <div class="wrapper">
        <div class="wrapper select-wrapper">
            <span class="label">Righe per pagina</span>
            <select class="form-select" name="rows-per-page" #rowsPerPageControl>
                <option value="10">10</option>
                <option value="25" selected>25</option>
                <option value="50">50</option>
                <option value="100">100</option>
            </select>
        </div>
        <div class="wrapper controls-wrapper">
            <button type="button" class="control prev-control"
                (click)="openPage(currentPage.pageNumber - 1)">
                <i class="fa-solid fa-angle-left"></i>
            </button>
            <div class="wrapper pages-wrapper">
                <button type="button" class="control page-control" *ngIf="firstPage"
                    (click)="openPage(firstPage.pageNumber)"
                    [ngClass]="{'active': firstPage.pageNumber === currentPage.pageNumber}">
                    {{firstPage.pageNumber+1}}
                </button>
                <div class="wrapper middle-pages-wrapper" *ngIf="middlePages">
                    <button type="button" class="control page-control" 
                        *ngIf="middlePages[0] && middlePages[0].pageNumber > 1"
                        (click)="openPage(middlePages[0].pageNumber-1)">
                        ...
                    </button>
                    <button type="button" class="control page-control" *ngFor="let page of middlePages"
                        (click)="openPage(page.pageNumber)"
                        [ngClass]="{'active': page.pageNumber === currentPage.pageNumber}">
                        <span>{{page.pageNumber+1}}</span>
                    </button>
                    <button type="button" class="control page-control" 
                        *ngIf="middlePages[2] && middlePages[2].pageNumber < this.pages.length-2"
                        (click)="openPage(middlePages[2].pageNumber+1)">
                        ...
                    </button>
                </div>
                <button type="button" class="control page-control" *ngIf="lastPage"
                    (click)="openPage(lastPage.pageNumber)"
                    [ngClass]="{'active': lastPage.pageNumber === currentPage.pageNumber}">
                    {{lastPage.pageNumber+1}}
                </button>
            </div>
            <button type="button" class="control next-control"
                (click)="openPage(currentPage.pageNumber + 1)">
                <i class="fa-solid fa-angle-right"></i>
            </button>
        </div>
    </div>
</div>
